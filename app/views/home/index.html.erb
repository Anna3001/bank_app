<% if user_signed_in? %>
<main class="min-h-screen w-full bg-white text-gray-700" x-data="layout">
    <!-- header page -->
    <header class="flex w-full items-center justify-between  bg-purple-blue-500 p-2 text-white">
        <!-- logo -->
        <div class="flex items-center space-x-2">
            <button type="button" class="text-3xl pt-1.5" @click="asideOpen = !asideOpen"><ion-icon name="menu-outline"></ion-icon></button>
            <div>SecurePay</div>
        </div>

        <!-- button profile -->
        <div>
            <%= link_to "/users/sign_out", method: :delete, class: "text-2xl h-9 w-9 overflow-hidden rounded-full" do %>
              <ion-icon name="log-out-outline"></ion-icon>
            <% end %>

            <div class="absolute right-2 mt-1 w-48 divide-y  rounded-md  bg-white"
                x-show="profileOpen" x-transition>
            </div>
        </div>
    </header>

    <div class="flex">
        <aside class="flex w-72 flex-col space-y-2 bg-white p-2" style="height: 90.5vh"
            x-show="asideOpen">
            <%= link_to "/", class: "flex items-center space-x-1 rounded-md px-2 py-3 hover:bg-gray-100 hover:text-blue-600" do %>
              <span class="text-2xl pt-1.5"><ion-icon name="home-outline"></ion-icon></span>
              <span>Home</span>
            <% end %>

            <%= link_to "/transfers", class: "flex items-center space-x-1 rounded-md px-2 py-3 hover:bg-gray-100 hover:text-blue-600" do %>
              <span class="text-2xl pt-1.5"><ion-icon name="card-outline"></ion-icon></span>
              <span>Payments</span>
            <% end %>

            <%= link_to "/my_account", class: "flex items-center space-x-1 rounded-md px-2 py-3 hover:bg-gray-100 hover:text-blue-600" do %>
              <span class="text-2xl pt-1.5"><ion-icon name="person-outline"></ion-icon></span>
              <span>My account</span>
            <% end %>
          
          <%= link_to "/users/edit", class: "flex items-center space-x-1 rounded-md px-2 py-3 hover:bg-gray-100 hover:text-blue-600" do %>
            <span class="text-2xl pt-1.5"><ion-icon name="settings-outline"></ion-icon></span>
            <span>Settings</span>
          <% end %>
        </aside>

        <!-- main content page -->
<div class="w-full p-4 h-auto min-h-screen bg-white border-l-2 border-dark-grey-900">
<div class="bg-white rounded-lg py-5">    
    <div class="container flex flex-col mx-auto bg-white rounded-lg pt-12 my-5">
        <div class="flex justify-center w-full h-full my-auto xl:gap-14 lg:justify-normal md:gap-5 draggable">
            <div class="flex items-center justify-center w-full lg:p-12">
                <div class="flex items-center xl:p-10">
                  <div class="flex flex-col w-full h-full pb-6 text-center bg-white rounded-3xl">
                    <h3 class="mb-3 text-4xl font-bold text-dark-grey-900">Total balance</h3>
                    <p class="mb-10 text-grey-700">All your money</p>
                      <div>
                        <p class="w-full px-5 py-4 mr-2 text-4xl font-medium outline-none mb-7 bg-gray-100 text-dark-grey-900 rounded-2xl text-center">
                        <%= current_user.money %>
                        </p>



      
                    </div>
                  </div>
                </div>
            </div>
        </div>
    </div>
</div>


        
    </div>
</main>
<% else %>
      <%= render "devise/shared/links" %>
                </div>
<% end %>

<script>
    document.addEventListener("alpine:init", () => {
        Alpine.data("layout", () => ({
            profileOpen: false,
            asideOpen: true,
        }));
    });
</script>



